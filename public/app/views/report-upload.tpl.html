<!--<div ng-controller="MyCtrl">-->
<!--<h4>Upload on file select</h4>-->
<!--<button ngf-select="uploadFiles($files, $invalidFiles)" multiple-->
        <!--accept="image/*" ngf-max-height="1000" ngf-max-size="1MB">-->
    <!--Select Files</button>-->
<!--<br><br>-->
<!--Files:-->
<!--<ul>-->
    <!--<li ng-repeat="f in files" style="font:smaller">{{f.name}} {{f.$errorParam}}-->
      <!--<span class="progress" ng-show="f.progress >= 0">-->
        <!--<div style="width:{{f.progress}}%"-->
             <!--ng-bind="f.progress + '%'"></div>-->
      <!--</span>-->
    <!--</li>-->
    <!--<li ng-repeat="f in errFiles" style="font:smaller">{{f.name}} {{f.$error}} {{f.$errorParam}}-->
    <!--</li>-->
<!--</ul>-->
<!--{{errorMsg}}-->
<!--</div>-->


<!---->
<!--<div ng-controller="MyCtrl">-->

    <!--&lt;!&ndash;<form novalidate ng-submit="submitUpload()" name="form">&ndash;&gt;-->
        <!--Single Image with validations-->
        <!--<button class="btn btn-info" ngf-select ng-model="file" name="file" ngf-pattern="'image/*'"-->
                <!--ngf-accept="'image/*'" ngf-max-size="20MB" ngf-min-height="100"-->
                <!--ngf-resize="{width: 100, height: 100}">Select</button>-->
        <!--&lt;!&ndash;Multiple files&ndash;&gt;-->
        <!--&lt;!&ndash;<button class="btn btn-info" ngf-select ng-model="files" ngf-multiple="true">Select</button>&ndash;&gt;-->
        <!--&lt;!&ndash;Drop files: <div ngf-drop ng-model="files" class="drop-box">Drop</div>&ndash;&gt;-->
        <!--<button type="button" ng-click="submitUpload()" >submit</button>-->
    <!--&lt;!&ndash;</form>&ndash;&gt;-->
<!--</div>-->


<div class="panel" ng-controller="uploadController">
    <div class="panel-body">
            <fieldset>
                <div class="form-group">
                    <div class="col-sm-6 col-sm-offset-1">
                        <div class="btn btn-primary"
                             ngf-drop=""
                             ngf-select="uploadFiles($files, $invalidFiles)"
                             ng-model="files"
                             ngf-multiple="true"
                             ngf-pattern="'image/*,audio/*,video/*'"
                             ngf-accept="'image/*,audio/*,video/*'"
                             ngf-resize="{width: 500, height: 500, centerCrop: false, type: 'image/jpeg', quality: .8}"
                             ngf-resize-if="$width > 500 || $height > 500"
                             ngf-model-invalid="invalidFiles"
                             ng-model-options="{'debounce':100}"
                             ngf-max-files="10"
                             ngf-validate="{size: {max: '5MB', min: '10B'}, height: {max: 5000}, width: {max: 5000}, duration: {max: '5m'}}"
                             ngf-keep="'distinct'">Select multiple files</div>
                    </div>
                    <button type="button" class="btn btn-warning col-sm-2" ng-click="files=[]; invalidFiles=[];">Reset</button>
                </div>
            </fieldset>

            <p>Preview image/audio/video:</p>
            <fieldset ng-repeat="f in files">
                <div class="form-group">
                    <div class="col-sm-8 col-sm-offset-1">
                        <img controls ngf-src="!f.$error && f" />
                        <audio controls ngf-src="!f.$error && f"></audio>
                        <video controls  ngf-src="!f.$error && f"></video>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-8 col-sm-offset-1">
                        <div uib-progressbar ng-value="f.progress" type="success" class="progress-striped">{{f.progress}}%</div>
                    </div>
                </div>
            </fieldset>

            <fieldset ng-repeat="i in invalidFiles">
                <div class="form-group">
                    <div class="col-sm-8 col-sm-offset-1">
                        Invalid File: MaxSize 5MB, {{f.$ngfName}}
                    </div>
                </div>
            </fieldset>
    </div>
</div>

